## session的需求

有些会话过程中的数据不应该存储在客户端，而应该保存在服务器，比如验证码这种场景

存储在客户端是个什么情况？

你猜我身红衣服是什么颜色

需要保护的信息不应该通过`cookie`存储在客户端，而应该存在服务器

```xml
set-cookie: sid=xxxxxxxxx
```

把这种需要保护的信息存在服务器，

给客户端发送一个门牌号

然后就可以在服务器通过这个门牌号找到相应的数据进行查验



### cookie 和 session 的区别

> cookie 和 session 都是一种存储数据的策略
>
> 从**存储位置**的角度来说，cookie存储在客户端，session存储在服务器
>
> 从**存储容量**的角度来说，cookie有容量限制，session没有具体的限制
>
> 从**存储形式**的角度来说，cookie只能存储字符串，session可以存储任意类型数据
>
> 从**存储安全**的角度来说，cookie中的数据容易被获取，session相对更安全

### 如何消除 session

> 1. **过期时间**
>
>    当客户端长时间没用传递 sessionid 过来，服务器可以在过期时间之后自动清除session
>
>    
>
> 2. **客户端主动通知**
>
>    可以使用 JS 监听客户端关闭页面或者其他退出行为，然后通知服务器清除 session

